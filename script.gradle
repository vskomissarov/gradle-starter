import java.time.LocalDateTime

/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/7.4.2/samples
 */
println "configuration phase"
println "gradle id: ${gradle.hashCode()}"
println "root: ${rootProject.hashCode()}, ${project.hashCode()}, ${gradle.rootProject.hashCode()}"


task first {
    doLast {
        println "execution phase, Task 1"
    }
}

task second {
    doLast {
        println "execution phase, Task 2"
    }
}

task third {
    doLast {
        println "execution phase, Task 3"
    }
}

task fourth(group: "liga") {
    doLast {
        println "execution phase, Task 4"
    }
}

//fourth.dependsOn second
//second.dependsOn first
//second.finalizedBy third

fourth.dependsOn second
fourth.dependsOn first
fourth.dependsOn third

//second.mustRunAfter first
second.shouldRunAfter first

gradle.taskGraph.whenReady { TaskExecutionGraph graph ->
    println "---- Graph:"
    graph.allTasks.each {
        println "${it.name}"
    }
}

ext {
    javaVersion = 14
    currentDate = LocalDateTime.now()
}

println ext.javaVersion
println project.ext.javaVersion
println "---- All properties: "
println project.properties
println "----- System: "
println System.getProperty("sys.example")
